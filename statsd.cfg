[buildout]
package-name +=
    timingtween
    statsdhandler
parts +=
    api_handler.yaml
    chronograph_handler.yaml
    contracting_bridge_handler.yaml
    competitive_dialogue_bridge_handler.yaml

[sources]
timingtween = git https://VDigitall@gitlab.quintagroup.com/VDigitall/pyramid-timing-tween.git
statsdhandler = git ${remotes:gh}openprocurement/statsdhandler.git push_url=${remotes:gh_push}openprocurement/statsdhandler.git

[openprocurement.api.ini]
statsd = 1
do_timing = true
handler_config = ${buildout:directory}/etc/api_handler.yaml

[api_handler.yaml]
<= config-from-template
app_key = api

[chronograph.ini]
handler_config = ${buildout:directory}/etc/chronograph_handler.yaml
statsd = 1

[chronograph_handler.yaml]
<= config-from-template
app_key = chronograph

[contracting_data_bridge]
eggs +=
    statsdhandler

[competitive_dialogue_data_bridge]
eggs +=
    statsdhandler

[contracting_data_bridge.yaml]
statsd = 1
handler_config = ${buildout:directory}/etc/contracting_bridge_handler.yaml

[contracting_bridge_handler.yaml]
<= config-from-template
app_key = contracting_bridge

[competitive_dialogue_data_bridge.yaml]
statsd = 1
handler_config = ${buildout:directory}/etc/competitive_dialogue_bridge_handler.yaml

[competitive_dialogue_bridge_handler.yaml]
<= config-from-template
app_key = competitive_dialogue_bridge
